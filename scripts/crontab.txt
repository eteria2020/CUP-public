# /etc/crontab: system-wide crontab
# Unlike any other crontab you don't have to run the `crontab'
# command to install the new version when you edit this file
# and files in /etc/cron.d. These files also have username fields,
# that none of the other crontabs do.

SHELL=/bin/sh
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin

# periodic
# m h dom mon dow user  command
17 *    * * *   root    cd / && run-parts --report /etc/cron.hourly
25 00   * * *   root    test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.daily )
47 00   * * 7   root    test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.weekly )
52 00   1 * *   root    test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.monthly )

40 02  * * *    root            /srv/apps/sharengo-publicsite/scripts/cron/clean.sh
30 02  * * *    sharengo        /srv/apps/sharengo-publicsite/scripts/cron/clean_commands.sh
50 02 11 * *    root            /etc/init.d/ntp restart

# every minute
*/3 * * * *     www-data        /srv/apps/sharengo-publicsite/scripts/cron/alarms.sh
*/1 * * * *     www-data        /srv/apps/sharengo-publicsite/scripts/cron/reservations.sh
*/9 * * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/account_compute.sh
*/19 * * * *    root            /srv/apps/sharengo-publicsite/scripts/cron/business_check_groups_limits.sh
*/3 * * * *     root            node /srv/services/api/tools/testApi.js >> /var/log/services/testApi.log
*/3 * * * *     root            node /srv/services/penalty-api/tools/testApi.js >> /var/log/services/testPenaltyApi.log

# every 1 hour
05 */1 * * *    root            /srv/apps/sharengo-publicsite/scripts/cron/close_old_trip_maintainers.sh
08 * * * *      root            /srv/apps/sharengo-publicsite/scripts/cron/assign_bonus_car_free.sh
#NUGO
30 */8 * * *    root            /srv/apps/sharengo-publicsite/scripts/cron/partner_notify_nugo.sh

# every day
05 00 * * *     root            /usr/bin/pm2 restart pushService
10 00 * * *     root            /usr/bin/pm2 restart CarWebServices
15 00 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/backup.sh
15 00 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/extra.sh
15 00 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/disable_late_payers.sh
30 00 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/pay_retry_time.sh

00 01 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/add_point_day.sh
10 01 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/discounts.sh
30 01 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/bonus.sh
40 01 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/driver_license.sh
# NB Evitare pianificazioni comprese fra le 02:00 e le 03:00, per cambio ora legale/solare
30 03 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/pay_invoice.sh
00 07 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/pay_retry.sh
#30 07 * * 0     root            /srv/apps/sharengo-publicsite/scripts/cron/pay_invoice.sh

00 10 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/registration_invoices.sh
30 10 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/export_registries.sh
35 10 * * *     root            /usr/bin/pm2 restart webservices

30 21 * * *     root            /usr/bin/pm2 restart webservices
58 23 * * *     root            /srv/apps/sharengo-publicsite/scripts/cron/bonus_compute.sh

# every week
#20 03 * * 2    root            service apache2 restart
00 09 * * 0     root            service apache2 restart

# every month
01 00  1 * *    sharengo        /srv/apps/sharengo-publicsite/scripts/cron/silver_list.sh
10 00  1 * *    root            /srv/apps/sharengo-publicsite/scripts/cron/credit_card_expiry.sh
00 06  1 * *    root            /srv/apps/sharengo-publicsite/scripts/cron/invoice_trips.sh

# once
#40 10 31 3 *    root            /srv/apps/sharengo-publicsite/scripts/cron/pay_invoice.sh
